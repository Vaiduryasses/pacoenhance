name: PaCo
num_queries: 40
num_planes: 20
num_points: 51200
num_centers: [128, 128]
group_k: 32
global_feature_dim: 1024

encoder_type: graph
decoder_type: fc
query_type: dynamic
query_ranking: true

encoder: 
  embed_dim: 384
  depth: 8
  num_heads: 6
  k: 8
  n_group: 2
  mlp_ratio: 2.
  block_style_list: ['attn-graph', 'attn', 'attn', 'attn', 'attn', 'attn', 'attn', 'attn']
  combine_style: 'concat'

decoder:
  embed_dim: 384
  depth: 12
  num_heads: 6
  k: 8
  n_group: 2
  mlp_ratio: 2.
  self_attn_block_style_list: ['attn', 'attn', 'attn', 'attn', 'attn', 'attn', 'attn', 'attn', 'attn', 'attn', 'attn', 'attn']
  self_attn_combine_style: 'concat'
  cross_attn_block_style_list: ['attn', 'attn', 'attn', 'attn', 'attn', 'attn', 'attn', 'attn', 'attn', 'attn', 'attn', 'attn']
  cross_attn_combine_style: 'concat'

repulsion:
  num_neighbors: 5
  epsilon: 1e-12
  radius: 0.07
  kernel_bandwidth: 0.03

#additionally
use_refinement: true
refinement_mode: memory_efficient  # 'full' 或 'memory_efficient'
refinement:
  residual_knn: 8               # 从16减少到8以节省内存
  plane_proj_threshold: 0.01
  chunk_size: 512               # 每次处理512个点
  max_points_per_plane: 1024    # 每个平面最多1024个点用于SVD